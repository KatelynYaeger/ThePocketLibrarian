@{
    ViewData["Title"] = "Find Your Next Read";
}

<body>

    <div class="container mt-3">
        @*@using (Html.BeginForm("Viewbook", "Book", FormMethod.Post)) ;*@
        @*<form id="regForm" method="post" form action="/Book/ViewBook">*@
        <form id="regForm" asp-action="FormResults" asp-controller="Form" method="post">
            <div class="tab">
                <strong>Pick The Genre</strong> <br><br>
                <div>
                    <input type="checkbox" name="genre" value="Alternate History"> Alternate History
                    <input type="checkbox" name="genre" value="Apocalyptic"> Apocalyptic
                    <input type="checkbox" name="genre" value="Fairytale"> Fairytale
                    <input type="checkbox" name="genre" value="Fantasy"> Fantasy
                    <input type="checkbox" name="genre" value="General Fiction"> General Fiction
                    <input type="checkbox" name="genre" value="Gothic"> Gothic
                    <input type="checkbox" name="genre" value="Historical Fiction"> Historical Fiction
                    <input type="checkbox" name="genre" value="Legal Thriller"> Legal Thriller
                    <input type="checkbox" name="genre" value="Mystery"> Mystery
                    <input type="checkbox" name="genre" value="Romance"> Romance
                    <input type="checkbox" name="genre" value="Science Fiction"> Science Fiction
                    <input type="checkbox" name="genre" value="Thriller"> Thriller
                    <input type="checkbox" name="genre" value="Young Adult"> Young Adult
                </div>

                <div class="Characteristics">
                    <div class="tab">
                        <strong>Pick the Romance</strong> <br><br>
                        <input type="checkbox" name="romance" value="Dark/Sunny"> Dark/Sunny
                        <input type="checkbox" name="romance" value="Enemies to Lovers"> Enemies to Lovers
                        <input type="checkbox" name="romance" value="Fairytale"> Fairytale
                        <input type="checkbox" name="romance" value="Fake Relationship"> Fake Relationship
                        <input type="checkbox" name="romance" value="Forbidden Love"> Forbidden Love
                        <input type="checkbox" name="romance" value="Friends to Lovers"> Friends to Lovers
                        <input type="checkbox" name="romance" value="Gothic"> Gothic
                        <input type="checkbox" name="romance" value="Love Triangle"> Love Triangle
                        <input type="checkbox" name="romance" value="Royalty/Commoner"> Royalty/Commoner
                        <input type="checkbox" name="romance" value="Slow Burn"> Slow Burn
                        <input type="checkbox" name="romance" value="Star Crossed Lovers"> Star Crossed Lovers
                        <input type="checkbox" name="romance" value="Stuck Together"> Stuck Together
                    </div>
                    <div class="tab">
                        <strong>Pick the POV</strong> <br><br>
                        <input type="checkbox" name="pov" value="First Person"> First Person
                        <input type="checkbox" name="pov" value="Deep Third Person"> Deep Third Person
                        <input type="checkbox" name="pov" value="Omniscient"> Omniscient
                        <input type="checkbox" name="pov" value="Multiple Points of View"> Multiple Points of View
                        <br><br>

                        <strong>Pick the Setting</strong> <br><br>
                        <input type="checkbox" name="setting" value="Fantasy World"> Fantasy World
                        <input type="checkbox" name="setting" value="Real World"> Real World
                        <input type="checkbox" name="setting" value="Dystopian"> Dystopian
                        <br> <br>

                        <strong>Pick the Protagonist</strong> <br><br>
                        <input type="checkbox" name="protagonist" value="Female Protagonist"> Female Protagonist
                        <input type="checkbox" name="protagonist" value="POC Protagonist"> POC Protagonist
                        <br><br>
                    </div>

                    <div class="tab">
                        <strong>Pick the Tropes</strong> <br><br>
                        <input type="checkbox" name="tropes" value="Amateur Sleuth"> Amateur Sleuth
                        <input type="checkbox" name="tropes" value="Bada** Female Lead"> Bada** Female Lead
                        <input type="checkbox" name="tropes" value="Chosen One"> Chosen One
                        <input type="checkbox" name="tropes" value="Damsel in Distress"> Damsel in Distress
                        <input type="checkbox" name="tropes" value="Found Family"> Found Famnily
                        <input type="checkbox" name="tropes" value="Quest"> Quest
                        <input type="checkbox" name="tropes" value="Revolution"> Revolution
                        <input type="checkbox" name="tropes" value="Rivals to Friends"> Rivals to Friends
                        <input type="checkbox" name="tropes" value="Secret Identity"> Secret Identity
                        <input type="checkbox" name="tropes" value="Unlikely Hero"> Unlikely Hero
                        <input type="checkbox" name="tropes" value="Fantasy Creatures"> Fantasy Creatures
                        <br><br>
                    </div>
                </div>

                <p><input type="submit" value="Submit"></p>
        </form>
                <h3>Result:</h3>
                <iframe name="result" style="height:100px;width:200px;"></iframe>


            

            <div style="overflow:auto;">
                <div style="float:right;">
                    <button type="button" id="prevBtn" onclick="nextPrev(-1)">Previous</button>
                    <button type="button" id="nextBtn" onclick="nextPrev(1)">Next</button>
                </div>
            </div>

            <div style="text-align:center;margin-top:100px;">
                <span class="step"></span>
                <span class="step"></span>
                <span class="step"></span>
                <span class="step"></span>
            </div>
        </form>

        <script>var currentTab = 0; // Current tab is set to be the first tab (0)
            showTab(currentTab); // Display the current tab

            function showTab(n) {
                // This function will display the specified tab of the form...
                var x = document.getElementsByClassName("tab");
                x[n].style.display = "block";
                //... and fix the Previous/Next buttons:
                if (n == 0) {
                    document.getElementById("prevBtn").style.display = "none";
                } else {
                    document.getElementById("prevBtn").style.display = "inline";
                }
                if (n == (x.length - 1)) {
                    document.getElementById("nextBtn").innerHTML = "Submit";
                } else {
                    document.getElementById("nextBtn").innerHTML = "Next";
                }
                //... and run a function that will display the correct step indicator:
                fixStepIndicator(n)
            }

            function nextPrev(n) {
                // This function will figure out which tab to display
                var x = document.getElementsByClassName("tab");
                // Exit the function if any field in the current tab is invalid:
                if (n == 1 && !validateForm()) return false;
                // Hide the current tab:
                x[currentTab].style.display = "none";
                // Increase or decrease the current tab by 1:
                currentTab = currentTab + n;
                // if you have reached the end of the form...
                if (currentTab >= x.length) {
                    // ... the form gets submitted:
                    document.getElementById("regForm").submit();
                    return false;
                }
                // Otherwise, display the correct tab:
                showTab(currentTab);
            }

            function validateForm() {
                // This function deals with validation of the form fields
                var x, y, i, valid = true;
                x = document.getElementsByClassName("tab");
                y = x[currentTab].getElementsByTagName("input");
                // A loop that checks every input field in the current tab:
                for (i = 0; i < y.length; i++) {
                    // If a field is empty...
                    if (y[i].value == "") {
                        // add an "invalid" class to the field:
                        y[i].className += " invalid";
                        // and set the current valid status to false
                        valid = false;
                    }
                }
                // If the valid status is true, mark the step as finished and valid:
                if (valid) {
                    document.getElementsByClassName("step")[currentTab].className += " finish";
                }
                return valid; // return the valid status
            }

            function fixStepIndicator(n) {
                // This function removes the "active" class of all steps...
                var i, x = document.getElementsByClassName("step");
                for (i = 0; i < x.length; i++) {
                    x[i].className = x[i].className.replace(" active", "");
                }
                //... and adds the "active" class on the current step:
                x[n].className += " active";
            }</script>

        <script>function formInfo() {
                var checkBox = document.getElementByName("setting");

                //var text = document.getElementById("value");

                if (checkBox.checked == true)
                {
                    var attribList = new List < string > ();

                    attribuList.Ad(document.getElementById("setting"));

                    return attribuList;
                }
                else
                {
                    text.style.display = "none";
                }
}
        </script>

    </div>
    </div>

</body>

